(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{536:(e,t,d)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/charts",function(){return d(6295)}])},6295:(e,t,d)=>{"use strict";d.r(t),d.d(t,{default:()=>l});var r=d(7876),i=d(4232),s=d(1723),n=d(11);function l(){let[e,t]=(0,i.useState)([]),[d,l]=(0,i.useState)(!0),o=(0,i.useCallback)(()=>{if(0===e.length)return;let t=n.Ay.getChart("expenseChart");t&&t.destroy();let d={};e.forEach(e=>{d[e.category]=(d[e.category]||0)+e.amount});let r=document.getElementById("expenseChart");r&&new n.Ay(r,{type:"pie",data:{labels:Object.keys(d),datasets:[{data:Object.values(d),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#FF6384","#C9CBCF","#4BC0C0","#FF6384"]}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})},[e]);(0,i.useEffect)(()=>{e.length>0&&o()},[e,o]);let a=e=>({Food:"#dc3545",Transport:"#28a745",Shopping:"#007bff",Entertainment:"#ffc107",Bills:"#17a2b8",Healthcare:"#6f42c1",Education:"#fd7e14",Travel:"#20c997",Other:"#6c757d"})[e]||"#6c757d",c=e.reduce((e,t)=>e+t.amount,0);return(0,r.jsx)(s.lJ,{publishableKey:"pk_test_bW9yYWwtY29sdC00MS5jbGVyay5hY2NvdW50cy5kZXYk",children:(0,r.jsxs)("div",{style:{minHeight:"100vh",background:"white",fontFamily:"Arial, sans-serif",color:"black",padding:"2rem"},children:[(0,r.jsx)(s.Bl,{children:(0,r.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",border:"1px solid #ddd",padding:"2rem",borderRadius:"8px",background:"#f9f9f9",textAlign:"center"},children:[(0,r.jsx)("h1",{children:"\uD83D\uDD12 Please Sign In"}),(0,r.jsx)("p",{children:"You need to be signed in to access the charts page."}),(0,r.jsx)(s.Ls,{})]})}),(0,r.jsx)(s.iB,{children:(0,r.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[(0,r.jsx)("h1",{style:{textAlign:"center",fontSize:"2rem",marginBottom:"2rem",color:"#333"},children:"\uD83D\uDCCA Expense Analytics & Charts"}),d?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"3rem",border:"1px solid #ddd",borderRadius:"8px",background:"#f9f9f9"},children:[(0,r.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\uD83D\uDD04"}),(0,r.jsx)("p",{style:{color:"#666"},children:"Loading your expense data..."})]}):0===e.length?(0,r.jsxs)("div",{style:{textAlign:"center",padding:"3rem",border:"1px solid #ddd",borderRadius:"8px",background:"#f9f9f9"},children:[(0,r.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\uD83D\uDCCA"}),(0,r.jsx)("p",{style:{color:"#666"},children:"No expenses found. Add some expenses to see beautiful charts!"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[(0,r.jsxs)("div",{style:{border:"1px solid #ddd",padding:"1.5rem",borderRadius:"8px",background:"#f9f9f9",textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\uD83D\uDCB0"}),(0,r.jsxs)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#333"},children:["€",c.toFixed(2)]}),(0,r.jsx)("div",{style:{color:"#666"},children:"Total Expenses"})]}),(0,r.jsxs)("div",{style:{border:"1px solid #ddd",padding:"1.5rem",borderRadius:"8px",background:"#f9f9f9",textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\uD83D\uDCC8"}),(0,r.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#333"},children:e.length}),(0,r.jsx)("div",{style:{color:"#666"},children:"Total Transactions"})]}),(0,r.jsxs)("div",{style:{border:"1px solid #ddd",padding:"1.5rem",borderRadius:"8px",background:"#f9f9f9",textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\uD83C\uDFAF"}),(0,r.jsxs)("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#333"},children:["€",(c/e.length).toFixed(2)]}),(0,r.jsx)("div",{style:{color:"#666"},children:"Average per Transaction"})]})]}),(0,r.jsxs)("div",{style:{border:"1px solid #ddd",padding:"2rem",borderRadius:"8px",background:"#f9f9f9",marginBottom:"2rem"},children:[(0,r.jsx)("h2",{style:{marginBottom:"1.5rem",textAlign:"center",color:"#333"},children:"\uD83D\uDCCA Category Distribution"}),(0,r.jsx)("div",{style:{height:"400px",position:"relative"},children:(0,r.jsx)("canvas",{id:"expenseChart"})})]}),(0,r.jsxs)("div",{style:{border:"1px solid #ddd",padding:"2rem",borderRadius:"8px",background:"#f9f9f9"},children:[(0,r.jsx)("h2",{style:{marginBottom:"1.5rem",textAlign:"center",color:"#333"},children:"\uD83D\uDCCB Detailed Category Breakdown"}),(()=>{let t={};e.forEach(e=>{let d=e.category;t[d]=(t[d]||0)+e.amount});let d=Object.entries(t).sort((e,t)=>{let[,d]=e,[,r]=t;return r-d});return(0,r.jsx)("div",{style:{overflowX:"auto"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",color:"#333"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"left"},children:"Category"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"right"},children:"Amount"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"right"},children:"Percentage"}),(0,r.jsx)("th",{style:{padding:"1rem",textAlign:"center"},children:"Visual"})]})}),(0,r.jsx)("tbody",{children:d.map(e=>{let[t,d]=e,i=(d/c*100).toFixed(1),s=d/c*100;return(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[(0,r.jsxs)("td",{style:{padding:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,r.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:a(t)}}),t]}),(0,r.jsxs)("td",{style:{padding:"1rem",textAlign:"right",fontWeight:"bold"},children:["€",d.toFixed(2)]}),(0,r.jsxs)("td",{style:{padding:"1rem",textAlign:"right"},children:[i,"%"]}),(0,r.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,r.jsx)("div",{style:{width:"100px",height:"8px",background:"#eee",borderRadius:"4px",overflow:"hidden"},children:(0,r.jsx)("div",{style:{width:`${s}%`,height:"100%",background:a(t),borderRadius:"4px"}})})})]},t)})})]})})})()]})]})]})})]})})}}},e=>{e.O(0,[697,723,599,636,593,792],()=>e(e.s=536)),_N_E=e.O()}]);